<body>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.min.js"></script>
	<script src="data.js"></script>


<script>

//156 keys per object
var position = "SB";

//First, sets the screen width and height of the svg container
var screenWidth = window.innerWidth - 15;
var screenHeight = window.innerHeight - 100;

//Create the svg container
var svgContainer = d3.select("body").append("svg").attrs({width: screenWidth, height: screenHeight});

//Fills the screen with 13 x 13 rectangles
var currentIteration = -1;
for(var x = 0; x <= screenWidth; x += screenWidth/13){
	for(var y = 0; y <= screenHeight; y+= screenHeight/12){
		currentIteration++;
		//Append the rectangle to the svg container
		svgContainer.append("rect").attrs({x: x, y: y, width: screenWidth/13, height: screenHeight/12, pos: Object.keys(HEV[position])[currentIteration]}).on("mouseover", 
		function(d) {
			d3.select(this).attr("r", 10).style("fill", "red");	
			//alert(d3.select(this).attr("pos"));
			changeText(d3.select(this).attr("pos"));

		}).on("mouseout",
		function(d) { 
			d3.select(this).attr("r", 5.5).style("fill", "#000000");
			changeTextBack(d3.select(this).attr("pos"));
		});
			 var id = 'i' + Object.keys(HEV[position])[currentIteration];
			 id = id.replace(/ /g,'');
		//Append some text to the bottom left corner of the calculator. The font size changes depending on the screen size
		svgContainer.append("text").attrs({x: x + screenWidth/26, y: y + screenHeight/24, fill: "white", "font-size": (screenWidth + screenHeight)/100, "text-anchor": "middle", "dominant-baseline": "middle", "id": id }).text(Object.keys(HEV[position])[currentIteration]);

	}
}
  
function changeText(hand){
	var id = "#i"+hand.replace(/ /g,'');
	d3.select(id).text(HEV[position][hand]);
}

function changeTextBack(hand){
	var id = "#i"+hand.replace(/ /g,'');
	d3.select(id).text(hand);
}

d3.select("body").append("input").attrs({
	"type": "range",
	"id": "slider",
	"min": "1",
	"max": "9",
	"default": "1"
	
});

d3.select("body").append("p").attr("id", "position").text(position);


var positionParagraph = document.getElementById("position");
var slider = document.getElementById("slider");
slider.style.width = "100%"
slider.oninput = function(){
	position = Object.keys(HEV)[slider.value - 1];
	
	positionParagraph.innerHTML = position;

}



</script>
